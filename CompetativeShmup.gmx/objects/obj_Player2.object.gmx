<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_drone</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>moveLock1 = 0;
invulnerable2 = 0;
powerLevel = 1;

meter = 0;
charge = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="9">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>invulnerable2 = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*******************************************************
Alarm 3 corresponds to the players Level 2 charge attack
*********************************************************/

tempSpawn = instance_create(120, 50, obj_DroneLevel3);


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*******************************************************
Alarm 3 corresponds to the players Level 2 charge attack
*********************************************************/

if(PLAYER1_SHIP_TYPE = 1)
{
    tempSpawn = instance_create(120, (100+irandom(200)), obj_DroneLevel2);
    
    tempSpawn2 = instance_create(580, 250+irandom(200), obj_DroneLevel2);
    tempSpawn2.mirror = 1;
}
else if(PLAYER1_SHIP_TYPE == 2)
{
   tempx = (random(356) + 124);
   tempSpawn = instance_create(tempx, 5, obj_CommandoLevel2);
}
else if(PLAYER1_SHIP_TYPE = 3)
{
    
}
else if(PLAYER1_SHIP_TYPE = 4)
{
    
}
else if(PLAYER1_SHIP_TYPE = 5)
{
    
}
else if(PLAYER1_SHIP_TYPE = 6)
{
    
}
else if(PLAYER1_SHIP_TYPE = 7)
{
    
}
else if(PLAYER1_SHIP_TYPE = 8)
{
    
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*******************************************************
Alarm 2 corresponds to the players Level 1 charge attack
*********************************************************/

if(PLAYER1_SHIP_TYPE = 1)
{
    n = irandom(1);
    
    if(n==0)
    {tempSpawn = instance_create(120, 10, obj_DroneLevel1);}
    else
    {
        tempSpawn = instance_create(580, 10, obj_DroneLevel1);
        tempSpawn.mirror = 1;
    }
}
else if(PLAYER1_SHIP_TYPE == 2)
{
   tempx = (random(356) + 124);
   tempSpawn = instance_create(tempx, 5, obj_CommandoLevel1);
}
else if(PLAYER1_SHIP_TYPE = 3)
{
    
}
else if(PLAYER1_SHIP_TYPE = 4)
{
    
}
else if(PLAYER1_SHIP_TYPE = 5)
{
    
}
else if(PLAYER1_SHIP_TYPE = 6)
{
    
}
else if(PLAYER1_SHIP_TYPE = 7)
{
    
}
else if(PLAYER1_SHIP_TYPE = 8)
{
    
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*******************************************************
Alarm 1 corresponds to the players basic attack. Each choice
of SHIP_TYPE has a different basic attack that is unleashed
on the enemy screen. These are primarily handled through
helper objects, located in Objects-&gt;Player Attacks. This
alarm is called when certain enemy units are killed.
*********************************************************/

if(PLAYER2_SHIP_TYPE = 1)
{
   tempx = (random(416) + 124);
   tempSpawn = instance_create(tempx, 20, obj_DroneBasic);
}
else if(PLAYER2_SHIP_TYPE == 2)
{
   tempx = 120;
   tempSpawn = instance_create(tempx, 20, obj_CommandoBasic);
}
else if(PLAYER2_SHIP_TYPE = 3)
{
    
}
else if(PLAYER2_SHIP_TYPE = 4)
{
    
}
else if(PLAYER2_SHIP_TYPE = 5)
{
    
}
else if(PLAYER2_SHIP_TYPE = 6)
{
    
}
else if(PLAYER2_SHIP_TYPE = 7)
{
    
}
else if(PLAYER2_SHIP_TYPE = 8)
{
    
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*******************************************************
Alarm 0 corresponds to the players basic shot. The three
different choices of WEAPON_TYPE each have five levels of 
power increase. 
*********************************************************/
if(PLAYER2_WEAPON_TYPE = "direct")
{
    if (powerLevel = 1)
    {
        leftStream = instance_create(x+8, y-5, obj_P1Bullet1);
        rightStream = instance_create(x-8, y-5, obj_P1Bullet1);
        middleStream = instance_create(x, y-12, obj_P1Bullet1);
        leftStream.direction = 90;
        rightStream.direction = 90;
        middleStream.direction = 90;
        leftStream.right = 1;
        rightStream.right = 1;
        middleStream.right = 1;
    }
    else if(powerLevel = 2)
    {
    
    }
    else if(powerLevel = 3)
    {
    
    }
    else if(powerLevel = 4)
    {
    
    }
    else if(powerLevel = 5)
    {
    
    }
    
    }
else if(PLAYER2_WEAPON_TYPE = "spread")
{
    if (powerLevel = 1)
    {
    
    }
    else if(powerLevel = 2)
    {
    
    }
    else if(powerLevel = 3)
    {
    
    }
    else if(powerLevel = 4)
    {
    
    }
    else if(powerLevel = 5)
    {
    
    }
}
else if(PLAYER2_WEAPON_TYPE = "homing")
{
    if (powerLevel = 1)
    {
    
    }
    else if(powerLevel = 2)
    {
    
    }
    else if(powerLevel = 3)
    {
    
    }
    else if(powerLevel = 4)
    {
    
    }
    else if(powerLevel = 5)
    {
    
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*******************************************************
The following code block handles standardized diagonal 
player movement. It creates a movement string based on 
what directional inputs are detected, then if the player
is moving diagonally it adjusts the speed accordingly.
*********************************************************/
if(moveLock1 == 0)
{
    LR = 0;
    UD = 0;
    
    if (keyboard_check(vk_left)) LR = "L"; 
    else if (keyboard_check(vk_right)) LR = "R";
 
    if (keyboard_check(vk_up)) UD = "U";
    else if (keyboard_check(vk_down)) UD = "D";    
    
    switch (string(LR)+string(UD))
        {
        case "00": break;
        
        case "L0": x -= PLAYER2_SPEED; break;
        case "R0": x += PLAYER2_SPEED; break;
        case "0U": y -= PLAYER2_SPEED; break;
        case "0D": y += PLAYER2_SPEED; break;
        
        case "LU": x -= PLAYER2_DIAGONAL_SPEED; y -= PLAYER2_DIAGONAL_SPEED; break;
        case "RU": x += PLAYER2_DIAGONAL_SPEED; y -= PLAYER2_DIAGONAL_SPEED; break;
        case "LD": x -= PLAYER2_DIAGONAL_SPEED; y += PLAYER2_DIAGONAL_SPEED; break;
        case "RD": x += PLAYER2_DIAGONAL_SPEED; y += PLAYER2_DIAGONAL_SPEED; break;
        }
        
       switch (joystick_direction(2))
       {
           case vk_numpad1: x -= PLAYER2_DIAGONAL_SPEED; y += PLAYER2_DIAGONAL_SPEED; break;
           case vk_numpad2: y += PLAYER2_SPEED; break;
           case vk_numpad3: x += PLAYER2_DIAGONAL_SPEED; y += PLAYER2_DIAGONAL_SPEED; break;
           case vk_numpad4: x -= PLAYER2_SPEED; break;
           case vk_numpad6: x += PLAYER2_SPEED; break;
           case vk_numpad7: x -= PLAYER2_DIAGONAL_SPEED; y -= PLAYER2_DIAGONAL_SPEED; break;
           case vk_numpad8: y -= PLAYER2_SPEED; break;
           case vk_numpad9: x += PLAYER2_DIAGONAL_SPEED; y -= PLAYER2_DIAGONAL_SPEED; break;
       } 
}

/*******************************************************
This is the code that handles boundary detection with the
edges of the versus screen. If the player objects attempts
to move outside of bounds, it is set back in bounds instantly.
*********************************************************/
  
  x = min(x, room_width - 100);  //Right Boundary
  x = max(x, 680);               //Left Boundary
  y = min(y, room_height);       //Bottom Boundary
  y = max(y, 0);                //Top Boundary
  
/*******************************************************
This code is used to detect and handle hit detection with 
enemy bullet objects.
*********************************************************/
if (invulnerable2 == 0) 
{

    hitObj = instance_place(x, y, obj_EnemyBulletParent);
    
    if(hitObj != noone) 
    {
        PLAYER2_HP -= 1;
        with (hitObj) instance_destroy();
        invulnerable2 = 1;
        alarm[9] = 120;
    }
}//end of invulnerability if statement

/*******************************************************
This code handles player death
*********************************************************/
if(PLAYER1_HP &lt;= 0)
{
    //CALL SCRIPT FOR DEATH
}

/*******************************************************
This code handles capping the meter variable at 300
*********************************************************/
if(meter &gt; 300)
{meter = 300;}

/*******************************************************
The following code block is for handling the throttle
*********************************************************/
if (keyboard_check_pressed(vk_space) or gamepad_button_check_pressed(1, gp_shoulderl))
{
    PLAYER2_SPEED = PLAYER2_SPEED - 4;
    PLAYER2_DIAGONAL_SPEED = PLAYER2_SPEED*.707;
}

if (keyboard_check_released(vk_space)or gamepad_button_check_released(1, gp_shoulderl))
{
    PLAYER2_SPEED = PLAYER2_SPEED + 4;
    PLAYER2_DIAGONAL_SPEED = PLAYER2_SPEED*.707;
}


/*******************************************************
The following code block handles the charge meter. Each
if block represents a different level of charge. Animations
for the charge attacks being unleashed should be called 
here.
*********************************************************/

if (keyboard_check(vk_shift) or gamepad_button_check(1, gp_shoulderr))
{
    if charge&lt;meter
    {charge+=1;}
}
     
if (keyboard_check_released(vk_shift)or gamepad_button_check_released(1, gp_shoulderr))
{
  if(charge == 300)
  {alarm[4] = 10;
    meter = meter - 300;}
  else if(charge&gt;=200)
  {alarm[3] = 10;
    meter = meter-200;}
  else if(charge&gt;=100)
  {alarm[2] = 10;
    meter = meter-100;}
  else
  {
    
  }
  
  charge = 0;
  
}

/*******************************************************
The following code block is for handling controller inputs
*********************************************************/
if (gamepad_button_check(1, gp_face1))
{event_perform(ev_keyboard, ord("Z"));}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="5" enumb="90">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*******************************************************
Holding down the shift key will cause the players basic
shot to reset to PLAYER1_SHOTSPEED continuously.
*********************************************************/
if(moveLock1 == 0)
{
   if(alarm[0] = -1) alarm[0] = PLAYER1_SHOTSPEED;   //Basic shot alarm
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*******************************************************
The chosen SHIP_TYPE will determine what sprite needs to 
be drawn for the player.
*********************************************************/

//Change the transparency if invulnerable
alpha = 1;
if(invulnerable2 == 1)
{alpha = .5;}


if(PLAYER2_SHIP_TYPE == 1)
{
     if (keyboard_check(vk_left))
     {draw_sprite_ext(spr_droneAnimLeft, 0, x, y, 1, 1, image_angle, c_white, alpha);}
     else if (keyboard_check(vk_right))
     {draw_sprite_ext(spr_droneAnimRight, 0, x, y, 1, 1, image_angle, c_white, alpha);}
     else
     {draw_sprite_ext(spr_drone, 0, x, y, 1, 1, image_angle, c_white, alpha);}
 }
else if(PLAYER2_SHIP_TYPE == 2)
{
  if (keyboard_check(vk_left))
     {draw_sprite_ext(spr_commando_Left, 0, x, y, 1, 1, image_angle, c_white, alpha);}
     else if (keyboard_check(vk_right))
     {draw_sprite_ext(spr_commando_Right, 0, x, y, 1, 1, image_angle, c_white, alpha);}
     else
     {draw_sprite_ext(spr_commando, 0, x, y, 1, 1, image_angle, c_white, alpha);}
}
else if(PLAYER2_SHIP_TYPE = 3)
{

}
else if(PLAYER2_SHIP_TYPE = 4)
{

}
else if(PLAYER2_SHIP_TYPE = 5)
{

}
else if(PLAYER2_SHIP_TYPE = 6)
{

}
else if(PLAYER2_SHIP_TYPE = 7)
{

}
else if(PLAYER2_SHIP_TYPE = 8)
{

}

alpha = 1; //Return the transparancy to default after changing it for invulnerable


/*******************************************************
While the player holds shift, the charge variable will 
increase up to the value of the meter variable. When
released, the appropriate alarm handling that level of
attack will be called.
*********************************************************/
if (keyboard_check(vk_shift) or gamepad_button_check(1, gp_shoulderr))
{
    if(charge &lt; 10)
    {chargeVal = "00" + string(round(charge));}
    else if(charge &lt; 100)
    {chargeVal = "0" + string(round(charge));}
    else
    {chargeVal = string(round(charge));}
    
    if(meter &lt; 10)
    {meterVal = "00" + string(round(meter));}
    else if(meter &lt; 100)
    {meterVal = "0" + string(round(meter));}
    else
    {meterVal = string(round(meter));}
    
    chargeDraw = chargeVal + '/' + meterVal;
    draw_text(x-37, y-50, chargeDraw);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="87">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>alarm[2] = 10;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="82">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>alarm[4] = 10;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="81">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>alarm[1] = 10;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="69">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>alarm[3] = 10;
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>16,16</point>
    <point>16,16</point>
  </PhysicsShapePoints>
</object>
